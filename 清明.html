<!DOCTYPE html>
<html>

<script type="text/javascript" src="http://echarts.baidu.com/examples/vendors/echarts/echarts.min.js"></script>
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 </head>
<body>

	<div id="container" class="clearfix" style="height: 600px;"></div>
</body>



<script type="text/javascript">
//2.1-3.7
//江苏
var respData ="";

//全国
var respData2="";

var xData=[];
var yData=[];
var yData2=[];
var chunyunData=respData.data.curve;
var chunyunData2=respData2.data.curve;
for (var i=0;i<chunyunData.length;i++){
	yData.push(chunyunData[i].congest_length);
	yData2.push(chunyunData2[i].congest_length);
	var datetime= new Date(chunyunData[i].datatime*1000);
	var dataStr=datetime.getMonth()+1+"-"+datetime.getDate()+" "+datetime.getHours()+":"+(datetime.getMinutes()?"30":"00");
	xData.push(dataStr);
}

var option = {
    title: {
        text: '2018清明拥堵统计',
//      subtext: '这是小标题',
        x: 'center'
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            animation: false
        }
    },
    legend: {
        data:['江苏','全国'],
        x: 'left',
        selected:{'全国':false}
    },
    toolbox: {
        feature: {
            dataZoom: {
                yAxisIndex: 'none'
            },
            restore: {},
            saveAsImage: {}
        }
    },
    axisPointer: {
        link: {xAxisIndex: 'all'}
    },
    dataZoom: [
        {
            show: true,
            realtime: true,
        },
    ],
    grid: [{
        left: 50,
        right: 50,
        height: '78%'
    }],
    xAxis : [
        {
//      	name : '时间点',
            type : 'category',
            boundaryGap : false,
            axisLine: {onZero: true},
            data: xData,
//        axisLabel:{interval: 47}  
        }
    ],
    yAxis : [
        {
            name : '拥堵里程(km)',
            type : 'value',
        }
    ],
   /*   visualMap: {
        show: false,
        pieces: [{
            gt: 0,
            lte: 4,
            color: 'green'
        }, {
            gt: 4,
            lte: 8,
            color: 'yellow'
        }, {
            gt: 8,
            color: 'red'
        }],
        outOfRange: {
            color: '#999'
        }
    },   */
    series : [
        {
            name:'江苏',
            type:'line',
            symbolSize: 0,
            hoverAnimation: false,
            data:yData,
            
        },
        {
            name:'全国',
            type:'line',
            symbolSize: 0,
            hoverAnimation: false,
            data: yData2
        }
    ]
};
var myChart = echarts.init(document.getElementById("container"));
//myChart.showLoading();
myChart.setOption(option);
</script>


</html>